<!-- navigation.html - Componente de navegação com os badges "Em breve" alinhados -->
<header class="main-header">
    <div class="banner">
        <div class="container">
            <h1>APOCALIPSE: AS VISÕES DOS ÚLTIMOS DIAS</h1>
        </div>
    </div>
    <nav class="main-nav">
        <div class="container">
            <div class="nav-toggle" id="nav-toggle">
                <i class="fas fa-bars"></i>
            </div>
            <ul class="nav-menu" id="nav-menu">
                <li><a href="index.html" class="nav-link" id="home-link">Início</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle nav-link">Aulas <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu" id="dropdown-menu">
                        <!-- O menu será preenchido dinamicamente pelo JavaScript usando aulasConfig -->
                    </ul>
                </li>
                <li><a href="recursos.html" class="nav-link" id="resources-link">Recursos</a></li>
            </ul>
        </div>
    </nav>
</header>

<div class="secondary-nav" id="secondary-nav" style="display: none;">
    <div class="container">
        <ul class="secondary-menu">
            <li><a href="#" class="secondary-link" id="current-lesson-link">Aula <span id="current-aula-num">1</span></a></li>
            <li><a href="#" class="secondary-link" id="visions-link">Bloco 1: As Visões de João</a></li>
            <li><a href="#" class="secondary-link" id="panorama-link">Bloco 2: O Plano por Trás da Visão</a></li>
            <li><a href="#" class="secondary-link" id="convergence-link">Bloco 3: Conexões Proféticas</a></li>
        </ul>
    </div>
</div>

<style>
    /* Estilos para o cabeçalho e menu principal */
    .main-header {
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .banner {
        background-color: #031f4b;
        padding: 20px 0;
        text-align: center;
        border-bottom: 5px solid #c9a227;
    }

    .banner h1 {
        margin: 0;
        color: #c9a227;
        font-size: 2.2rem;
    }

    .main-nav {
        background-color: #031f4b;
        position: relative;
        z-index: 1000;
    }

    .nav-menu {
        display: flex;
        justify-content: center;
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .nav-link {
        display: block;
        padding: 15px 25px;
        color: white;
        font-weight: 600;
        transition: all 0.3s ease;
        text-decoration: none;
    }

    .nav-link:hover,
    .nav-link.active {
        background-color: #0a4da8;
        color: white;
    }

    /* Estilos para o dropdown de aulas */
    .dropdown {
        position: relative;
    }

    .dropdown-toggle i {
        margin-left: 5px;
    }

    .dropdown-menu {
        position: absolute;
        top: 100%;
        left: 0;
        width: 300px;
        background-color: #031f4b;
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        border-radius: 0 0 5px 5px;
        opacity: 0;
        visibility: hidden;
        transform: translateY(10px);
        transition: all 0.3s ease;
        z-index: 1000;
        padding: 0;
        list-style: none;
    }

    .dropdown:hover .dropdown-menu {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .dropdown-item {
        display: flex;
        align-items: center;
        padding: 12px 15px;
        color: white;
        text-decoration: none;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        position: relative;
    }

    .dropdown-item:last-child {
        border-bottom: none;
    }

    .dropdown-item:hover {
        background-color: rgba(10, 77, 168, 0.5);
    }

    .dropdown-item.coming-soon {
        cursor: not-allowed;
    }

    .aula-num {
        display: inline-block;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        text-align: center;
        line-height: 28px;
        font-weight: bold;
        margin-right: 10px;
    }

    .dropdown-item:not(.coming-soon) .aula-num {
        background-color: #c9a227;
        color: #031f4b;
    }

    .dropdown-item.coming-soon .aula-num {
        background-color: rgba(255,255,255,0.2);
        color: white;
    }

    .aula-title {
        flex: 1;
    }

    .badge-em-breve {
        position: absolute;
        right: 15px;
        background-color: #c9a227;
        color: #031f4b;
        font-size: 12px;
        padding: 3px 8px;
        border-radius: 12px;
        font-weight: bold;
    }

    /* Estilos para navegação responsiva */
    .nav-toggle {
        display: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 15px;
    }

    /* Media queries para responsividade */
    @media (max-width: 768px) {
        .banner h1 {
            font-size: 1.8rem;
        }

        .nav-toggle {
            display: block;
        }

        .nav-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            max-width: 300px;
            height: 100vh;
            flex-direction: column;
            background-color: #031f4b;
            box-shadow: -5px 0 15px rgba(0,0,0,0.2);
            transition: right 0.3s ease;
            z-index: 1001;
            padding-top: 60px;
        }

        .nav-menu.active {
            right: 0;
        }

        .nav-menu li {
            width: 100%;
        }

        .dropdown-menu {
            position: static;
            width: 100%;
            opacity: 1;
            visibility: visible;
            transform: none;
            display: none;
            box-shadow: none;
        }

        .dropdown.active .dropdown-menu {
            display: block;
        }
    }
</style>

<script>
    // Script para gerenciar o menu
    document.addEventListener('DOMContentLoaded', function() {
        // Toggle do menu mobile
        const navToggle = document.getElementById('nav-toggle');
        const navMenu = document.getElementById('nav-menu');

        if (navToggle && navMenu) {
            navToggle.addEventListener('click', function() {
                navMenu.classList.toggle('active');
            });
        }

        // Dropdown em dispositivos móveis
        const dropdownToggle = document.querySelector('.dropdown-toggle');
        const dropdown = document.querySelector('.dropdown');

        if (dropdownToggle && dropdown) {
            dropdownToggle.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    e.preventDefault();
                    dropdown.classList.toggle('active');
                }
            });
        }

        // Gerar items do menu de aulas
        const dropdownMenu = document.getElementById('dropdown-menu');
        if (dropdownMenu && typeof aulasConfig !== 'undefined') {
            aulasConfig.aulas.forEach(aula => {
                const li = document.createElement('li');
                const a = document.createElement('a');

                a.href = aula.available ? 'aulas/aula' + aula.id + '.html' : '#';
                a.className = aula.available ? 'dropdown-item' : 'dropdown-item coming-soon';

                // Elemento para o número da aula
                const numSpan = document.createElement('span');
                numSpan.className = 'aula-num';
                numSpan.textContent = aula.id;

                // Elemento para o título da aula
                const titleSpan = document.createElement('span');
                titleSpan.className = 'aula-title';
                titleSpan.textContent = aula.title.replace(/^Aula \d+: /, '');

                // Adiciona os elementos ao link
                a.appendChild(numSpan);
                a.appendChild(titleSpan);

                // Adiciona badge "Em breve" se necessário
                if (!aula.available) {
                    const badgeSpan = document.createElement('span');
                    badgeSpan.className = 'badge-em-breve';
                    badgeSpan.textContent = 'Em breve';
                    a.appendChild(badgeSpan);

                    // Adiciona evento de clique para aulas não disponíveis
                    a.addEventListener('click', function(e) {
                        e.preventDefault();
                        alert('Esta aula estará disponível em breve!');
                    });
                }

                li.appendChild(a);
                dropdownMenu.appendChild(li);
            });
        } else if (dropdownMenu) {
            // Fallback para itens estáticos se aulasConfig não estiver disponível
            dropdownMenu.innerHTML = `
                <li><a href="aulas/aula1.html" class="dropdown-item"><span class="aula-num">1</span><span class="aula-title">O Chamado do Vidente</span></a></li>
                <li><a href="aulas/aula2.html" class="dropdown-item"><span class="aula-num">2</span><span class="aula-title">A Corte Celestial</span></a></li>
                <li><a href="#" class="dropdown-item coming-soon"><span class="aula-num">3</span><span class="aula-title">Prelúdio do Juízo</span><span class="badge-em-breve">Em breve</span></a></li>
                <li><a href="#" class="dropdown-item coming-soon"><span class="aula-num">4</span><span class="aula-title">O Clamor dos Justos</span><span class="badge-em-breve">Em breve</span></a></li>
                <li><a href="#" class="dropdown-item coming-soon"><span class="aula-num">5</span><span class="aula-title">Os Selados do Senhor</span><span class="badge-em-breve">Em breve</span></a></li>
                <li><a href="#" class="dropdown-item coming-soon"><span class="aula-num">6</span><span class="aula-title">Advertências Cósmicas</span><span class="badge-em-breve">Em breve</span></a></li>
                <li><a href="#" class="dropdown-item coming-soon"><span class="aula-num">7</span><span class="aula-title">A Ira Divina Derramada</span><span class="badge-em-breve">Em breve</span></a></li>
            `;

            // Adiciona evento de clique para aulas não disponíveis
            document.querySelectorAll('.dropdown-item.coming-soon').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    alert('Esta aula estará disponível em breve!');
                });
            });
        }
    });
</script>
